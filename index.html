<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Tài Xỉu Game</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <h2 class="text-center rainbow-text">
      Tài xỉu người không chơi là người thắng
    </h2>
    <div
      class="container"
      style="
        width: 800px;
        height: 500px;
        background-image: url('haha.png');
        background-repeat: no-repeat;
        background-position: center center;
      "
    >
      <div class="row">
        <div class="col-4" style="height: 500px">
          <div style="position: relative; top: 265px; left: 140px">
            <label for="tai" style="color: white">Nhập số tiền:</label><br />
            <input
              type="text"
              id="taiAmount"
              name="tai"
              style="width: 70px; border-radius: 5px"
              oninput="selectBet('tai')"
            />
          </div>
        </div>
        <div class="col-4" style="height: 500px">
          <div style="position: relative; top: 210px">
            <button class="btn btn-danger" onclick="rollDice()">Quay số</button
            ><br />
            <label style="color: white">Kết quả</label><br />
            <input
              type="text"
              id="result"
              name="ketqua"
              style="width: 70px; border-radius: 5px"
              readonly
            />
          </div>
        </div>
        <div class="col-4" style="height: 500px">
          <div style="position: relative; top: 265px; right: 140px">
            <label for="xiu" style="color: white">Nhập số tiền:</label><br />
            <input
              type="text"
              id="xiuAmount"
              name="xiu"
              style="width: 70px; border-radius: 5px"
              oninput="selectBet('xiu')"
            />
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-6">
        <label> Số Tiền của bạn là (VND):</label>
        <input
          type="number"
          style="border: none"
          id="balance"
          value="100000"
          readonly
        />
        <a class="nav-link rainbow-text" href="#" onclick="cocainit()">
          Rút tiền</a
        >
      </div>
      <div class="col-3">
        <a
          class="nav-link rainbow-text"
          href="naptienchobophong.html"
          onclick="topUp()"
        >
          Nạp tiền cho bố Phong tại đây</a
        >
      </div>
    </div>
    <br />
    <footer style="background-color: gray; height: 100px; color: white">
      <div style="position: relative; top: 30px">
        Web design by Phong dep trai
        <br />
        Web của tao chơi sạch random tỷ lệ 50-50 thằng nào ý kiến thì cho bố cái
        địa chỉ
      </div>
    </footer>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
      integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
      integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
      crossorigin="anonymous"
    ></script>
    <script>
      let balance = 100000;
      let selectedBet = "";

      function cocainit() {
        alert("Có cái nịt anh cho rút :))");
      }

      function topUp() {
        balance += 50000;
        document.getElementById("balance").value = balance;
      }

      function selectBet(betType) {
        selectedBet = betType;
        const taiInput = document.getElementById("taiAmount");
        const xiuInput = document.getElementById("xiuAmount");

        if (betType === "tai") {
          taiInput.value = taiInput.value.trim() !== "" ? taiInput.value : null;
          xiuInput.value = null;
        } else if (betType === "xiu") {
          xiuInput.value = xiuInput.value.trim() !== "" ? xiuInput.value : null;
          taiInput.value = null;
        }
      }
      function rollDice() {
        const taiAmount =
          parseInt(document.getElementById("taiAmount").value) || 0;
        const xiuAmount =
          parseInt(document.getElementById("xiuAmount").value) || 0;

        if (taiAmount < 0 || xiuAmount < 0) {
          alert("Số tiền cược không thể là số âm!");
          return;
        }

        let selectedAmount = 0;

        if (selectedBet === "tai") {
          selectedAmount = taiAmount;
        } else if (selectedBet === "xiu") {
          selectedAmount = xiuAmount;
        } else {
          alert("Vui lòng chọn một loại cược.");
          return;
        }

        if (selectedAmount > balance) {
          alert("Bạn không đủ tiền cược!");
          return;
        }

        const winProbability = 0.2; // Tỷ lệ thắng là 30%
        const diceResult = Math.random();

        let winAmount = 0;
        let loseAmount = 0;

        if (diceResult <= winProbability) {
          winAmount = selectedAmount * 2;
          alert(`Chúc mừng bạn đã thắng ${winAmount} VND!`);
        } else {
          loseAmount = selectedAmount;
          alert(`Bạn đã thua và bị trừ ${loseAmount} VND.`);
        }

        balance += winAmount - loseAmount;
        document.getElementById("balance").value = balance;

        const resultInput = document.getElementById("result");
        const isTai = diceResult % 2 !== 0;
        resultInput.value = isTai ? "Tài" : "Xỉu";
      }
    </script>
  </body>
</html>
